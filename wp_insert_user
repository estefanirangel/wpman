<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!--
<meta property="fb:page_id" content="6427302910" />
-->
<link href="https://plus.google.com/107188080561309681193" rel="publisher" />
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.5" />
		<meta name="keywords" content="Function Reference/wp insert user,Class Reference/WP Error,Class Reference/WP User,Class Reference/wpdb,Function Reference,Function Reference/apply filters,Function Reference/do action,Function Reference/wp create user,Function Reference/wp update user,How to Pass Tag Parameters,Plugin API/Filter Reference" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Codex (en)" />
		<link rel="alternate" type="application/rss+xml" title="Codex RSS feed" href="/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Codex Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<title>Function Reference/wp insert user &laquo; WordPress Codex</title>

<link rel="stylesheet" href="//wordpress.org/style/codex-wp4.css?3" />
<link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,300,400,600&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="//wordpress.org/style/wp4.css?32" />
<link media="only screen and (max-device-width: 480px)" href="//wordpress.org/style/iphone.css" type="text/css" rel="stylesheet" />
<link rel="shortcut icon" href="//wordpress.org/favicon.ico?3" type="image/x-icon" />


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-52447-1");
pageTracker._initData();
pageTracker._trackPageview();
function recordOutboundLink(link, category, action) {
  pageTracker._trackEvent(category, action);
  setTimeout('document.location = "' + link.href + '"', 100);
}
</script>
<!--[if lte IE 8]>
<style type="text/css">
@import url("//wordpress.org/style/ie.css?1");
</style>
<![endif]-->
	<script type="text/javascript" src="//wordpress.org/wp-includes/js/jquery/jquery.js"></script>
<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>
<!--[if IE]>
    <script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" />
<![endif]-->

<script type="text/javascript" src="/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=codex"></script>
<script type="text/javascript">wgBreakFrames=false;wgContentLanguage='en';</script>
<script type="text/javascript" src="/skins/common/wikibits.js"></script>

</head>

<body id="wordpress-org"  >
<div id="header">
	<div class="wrapper">
		<h1><a href="//wordpress.org">WordPress.org</a></h1>

		<div id="head-search">
		<form action="http://wordpress.org/search/do-search.php" method="get">
			<input class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" /> <input type="submit" class="button" value="" />
		</form>
		</div>
		<div style="clear:both"></div>
		
<ul>
<li><a href='http://wordpress.org/showcase/' title='See some of the sites built on WordPress.'>Showcase</a></li>
<li><a href='http://wordpress.org/extend/themes/' title='Find just the right look for your website.'>Themes</a></li>
<li><a href='http://wordpress.org/extend/plugins/' title='Plugins can extend WordPress to do almost anything you can imagine.'>Plugins</a></li>
<li><a href='http://wordpress.org/extend/mobile/' title='Take your website on the go!'>Mobile</a></li>
<li><a href='http://wordpress.org/support/' title='Forums, documentation, help.' class="current">Support</a><ul class="nav-submenu"><li><a href='http://wordpress.org/support/' title='Support and discussion forums.'>Forums</a></li><li><a href='http://codex.wordpress.org/Main_Page' title='Documentation, tutorials, best practices.'>Documentation</a></li></ul><div class="uparrow"></div></li>
<li><a href='http://make.wordpress.org/' title='Contribute your knowledge.'>Get Involved</a><ul class="nav-submenu"><li><a href='http://make.wordpress.org/core/' title='Write the code.'>Core</a></li><li><a href='http://make.wordpress.org/ui/' title='Improve the interface.'>UI</a></li><li><a href='http://make.wordpress.org/accessibility/' title='Create a better experience.'>Accessibility</a></li><li><a href='http://make.wordpress.org/plugins/' title='Extend the system.'>Plugins</a></li><li><a href='http://make.wordpress.org/themes/' title='Beautify the web.'>Themes</a></li><li><a href='http://make.wordpress.org/support/' title='Help the users.'>Support</a></li><li><a href='http://make.wordpress.org/polyglots/' title='Translate for the world.'>Polyglots</a></li><li><a href='http://make.wordpress.org/mobile/' title='On the go.'>Mobile</a></li></ul><div class="uparrow"></div></li>
<li><a href='http://wordpress.org/about/' title='About the WordPress Organization, and where we&#039;re going.'>About</a></li>
<li><a href='http://wordpress.org/news/' title='Come here for the latest scoop.'>Blog</a></li>
<li><a href='http://wordpress.org/hosting/' title='Find a home for your blog.'>Hosting</a></li>
<li id="download" class="button download-button"><a href='http://wordpress.org/download/' title='Get it. Got it? Good.'>Download WordPress</a></li>
</ul>
		<div style="clear:both"></div>
	</div>
</div>


<div id="headline">
	<div class="wrapper">
		<h2>Codex</h2>
		
		<div class="portlet" id="p-personal">
		  <p class="login">Codex tools:
		     <a href="/index.php?title=Special:UserLogin&amp;returnto=Function_Reference/wp_insert_user">Log in</a> 		  </p>
		</div>
	</div>
</div>

<div id="pagebody">
	<div class="wrapper">	
		<div class="col-10" id="bodyContent">
						<h2 class="pagetitle">Function Reference/wp insert user</h2>
									<!-- start content -->
				<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1"><a href="#Return_Values"><span class="tocnumber">4</span> <span class="toctext">Return Values</span></a></li>
<li class="toclevel-1"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1"><a href="#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1"><a href="#Change_Log"><span class="tocnumber">7</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1"><a href="#Source_File"><span class="tocnumber">8</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1"><a href="#Related"><span class="tocnumber">9</span> <span class="toctext">Related</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Description" id="Description"></a><h2> <span class="mw-headline"> Description </span></h2>
<p>Insert a user into the database. 
</p><p>Can update a current user or insert a new user based on whether the user's ID is present. 
</p><p>Can be used to update the user's info (see below), set the user's role, and set the user's preference on the use of the rich editor.  
</p><p>Note: As late as 2.7.1, if you are attempting to update the password for the user, this function will not hash the password, thus failing.  Use the <a href="/Function_Reference/wp_update_user" title="Function Reference/wp update user"><tt>wp_update_user</tt></a> function instead.
</p><p>Note: 3.4.1, does hash the password. You can verify this in the [wp-includes/user.php](<a href="http://core.trac.wordpress.org/browser/tags/3.4.1/wp-includes/user.php#L1264" class="external free" title="http://core.trac.wordpress.org/browser/tags/3.4.1/wp-includes/user.php#L1264">http://core.trac.wordpress.org/browser/tags/3.4.1/wp-includes/user.php#L1264</a>)
</p>
<a name="Usage" id="Usage"></a><h2> <span class="mw-headline"> Usage </span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&nbsp;wp_insert_user</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$userdata&nbsp;</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<a name="Parameters" id="Parameters"></a><h2> <span class="mw-headline"> Parameters </span></h2>
<dl><dt> <tt>$userdata</tt>
</dt><dd> (<a href="/How_to_Pass_Tag_Parameters#Mixed" title="How to Pass Tag Parameters"><i>mixed</i></a>) (<i>required</i>) An array of user data, stdClass or <a href="/Class_Reference/WP_User" title="Class Reference/WP User">WP_User</a> object.
<dl><dd> Default: <i>None</i>
</dd></dl>
</dd></dl>
<a name="Return_Values" id="Return_Values"></a><h2> <span class="mw-headline"> Return Values </span></h2>
<dl><dt> <tt>(mixed)</tt>&nbsp;</dt><dd> If successful, returns the newly-created user's user_id, otherwise returns a <a href="/Class_Reference/WP_Error" title="Class Reference/WP Error">WP_Error</a> object.
</dd></dl>
<a name="Examples" id="Examples"></a><h2> <span class="mw-headline"> Examples </span></h2>
<p>Below is an example showing how to update a user's Website profile field
</p>
<pre>
&lt;?php
$user_id = 1;
$website = 'http://wordpress.org';
wp_insert_user( array ('ID' =&gt; $user_id, 'user_url' =&gt; $website) )&nbsp;;
?&gt;
</pre>
<a name="Notes" id="Notes"></a><h2> <span class="mw-headline"> Notes </span></h2>
<ul><li> Uses: <a href="/Class_Reference/wpdb" title="Class Reference/wpdb"><tt>$wpdb</tt></a> WordPress database layer.
</li><li> Uses: <a href="/Function_Reference/apply_filters" title="Function Reference/apply filters"><tt>apply_filters()</tt></a> Calls filters for most of the <tt>$userdata</tt> fields with the prefix 'pre_user'. See <a href="#Description" title="">description above</a>.
</li><li> Uses: <a href="/Function_Reference/do_action" title="Function Reference/do action"><tt>do_action()</tt></a> Calls 'profile_update' hook when updating giving the user's ID
</li><li> Uses: <a href="/Function_Reference/do_action" title="Function Reference/do action"><tt>do_action()</tt></a> Calls 'user_register' hook when creating a new user giving the user's ID
</li></ul>
<table border="0" cellspacing="5" summary="User data array fields.">
<caption> The <tt>$userdata</tt> array can contain the following fields
</caption>
<tr>
<th style="font-weight:bold"> Field Name
</th><th> Description
</th><th> <a href="/Plugin_API/Filter_Reference#Database_Writes_4" title="Plugin API/Filter Reference">Associated Filter</a>
</th></tr>
<tr valign="top">
<td style="font-weight:bold"> ID
</td><td> An integer that will be used for updating an existing user.
</td><td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_pass
</td><td> A string that contains the plain text password for the user.
</td><td> <tt>pre_user_pass</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_login
</td><td> A string that contains the user's username for logging in.
</td><td> <tt>pre_user_login</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_nicename
</td><td> A string that contains a URL-friendly name for the user. The default is the user's username.
</td><td> <tt>pre_user_nicename</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_url
</td><td> A string containing the user's URL for the user's web site.
</td><td> <tt>pre_user_url</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_email
</td><td> A string containing the user's email address.
</td><td> <tt>pre_user_email</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> display_name
</td><td> A string that will be shown on the site. Defaults to user's username. It is likely that you will want to change this, for both appearance and security through obscurity (that is if you dont use and delete the default admin user).
</td><td> <tt>pre_user_display_name</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> nickname
</td><td> The user's nickname, defaults to the user's username.
</td><td> <tt>pre_user_nickname</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> first_name
</td><td> The user's first name.
</td><td> <tt>pre_user_first_name</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> last_name
</td><td> The user's last name.
</td><td> <tt>pre_user_last_name</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> description
</td><td> A string containing content about the user.
</td><td> <tt>pre_user_description</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> rich_editing
</td><td> A string for whether to enable the rich editor or not. False if not empty.
</td><td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_registered
</td><td> The date the user registered. Format is Y-m-d H:i:s.
</td><td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> role
</td><td> A string used to set the user's role.
</td><td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> jabber
</td><td> User's Jabber account.
</td><td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> aim
</td><td> User's AOL IM account.
</td><td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> yim
</td><td> User's Yahoo IM account.
</td><td> (none)
</td></tr></table>
<p><br />
When performing an update operation, user_pass should be the hashed password and not the plain text password.
</p><p>If you pass an ID, the user with that ID will be updated. If there is no ID, a new user will be created.
</p>
<a name="Change_Log" id="Change_Log"></a><h2> <span class="mw-headline"> Change Log </span></h2>
<ul><li> <a href="/Version_3.5" title="Version 3.5">3.5.0</a>: Now accepts stdClass or <a href="/Class_Reference/WP_User" title="Class Reference/WP User">WP_User</a> object
</li><li> Since: 2.0.0
</li></ul>
<a name="Source_File" id="Source_File"></a><h2> <span class="mw-headline"> Source File </span></h2>
<p>As of 3.1 <tt>wp_insert_user()</tt> is located in <code><a href="http://core.trac.wordpress.org/browser/tags/3.5.1/wp-includes/user.php#L0" class="external text" title="http://core.trac.wordpress.org/browser/tags/3.5.1/wp-includes/user.php#L0">wp-includes/user.php</a></code>.
</p>
<a name="Related" id="Related"></a><h2> <span class="mw-headline"> Related </span></h2>
<p><a href="/Function_Reference/wp_update_user" title="Function Reference/wp update user">wp_update_user</a>, <a href="/Function_Reference/wp_create_user" title="Function Reference/wp create user">wp_create_user</a>
</p>
<div style="clear:both; background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle;">See also index of <a href="/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Preprocessor node count: 57/1000000
Post-expand include size: 843/2097152 bytes
Template argument size: 263/2097152 bytes
Expensive parser function count: 0/100
-->
<div class="printfooter">
Retrieved from "<a href="http://codex.wordpress.org/Function_Reference/wp_insert_user">http://codex.wordpress.org/Function_Reference/wp_insert_user</a>"</div>
				<div id="catlinks"><div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/Special:Categories" title="Special:Categories">Categories</a>:&#32;<span dir='ltr'><a href="/Category:Functions" title="Category:Functions">Functions</a></span> | <span dir='ltr'><a href="/Category:New_page_created" title="Category:New page created">New page created</a></span></div></div></div>			<!-- end content -->
		</div>
		<div class="col-2">
			
						
			<ul class="submenu">
				<li id="n-mainpage"><a href="/Main_Page">Home Page</a></li>	
				<li><a href="/WordPress_Lessons">WordPress Lessons</a></li>
				<li><a href="/Getting_Started_with_WordPress">Getting Started</a></li>
				<li><a href="/Working_with_WordPress">Working with WordPress</a></li>
				<li><a href="/Blog_Design_and_Layout">Design and Layout</a></li>
				<li><a href="/Advanced_Topics">Advanced Topics</a></li>
				<li><a href="/Troubleshooting">Troubleshooting</a></li>
				<li><a href="/Developer_Documentation">Developer Docs</a></li>
				<li><a href="/About_WordPress">About WordPress</a></li>
			</ul>

			<h3>Codex Resources</h3>
			<ul class="submenu">
				<li id="n-portal"><a href="/Codex:Community_Portal">Community portal</a></li>	      
				<li id="n-currentevents"><a href="/Current_events">Current events</a></li>	      
				<li id="n-recentchanges"><a href="/Special:RecentChanges">Recent changes</a></li>	      
				<li id="n-randompage"><a href="/Special:Random">Random page</a></li>	      
				<li id="n-help"><a href="/Help:Contents">Help</a></li>	
			</ul>
			
		</div>
	</div>
</div>


<div id="footer">
	<div class="wrapper">
		<p> 
			<a href="http://wordpress.org/about/privacy/">Privacy</a> | 
			<a href="http://wordpress.org/about/license/">License / GPLv2</a>
            &nbsp; &nbsp; See also: 
            <a href="http://wordpress.com/?ref=wporg-footer" title="Hassle-free WP hosting">Hosted WordPress.com</a> |
			<a href="http://wordpress.tv/" title="Videos, tutorials, WordCamps">WordPress.TV Videos</a> |
			<a href="http://central.wordcamp.org/" title="Find a WordPress event near your home">WordCamp Events</a> |
			<a href="http://buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress Social Layer</a> |
			<a href="http://bbpress.org/" title="Fast, slick forums built on WordPress">bbPress Forums</a> |
			<a href="http://jobs.wordpress.net/" title="Find or post WordPress jobs">WP Jobs</a> | 
            <a href="http://ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a>
		</p>
<br />
<iframe src="http://www.facebook.com/plugins/like.php?app_id=121415197926116&amp;href=http%3A%2F%2Fwww.facebook.com%2Fwordpress&amp;send=false&amp;layout=button_count&amp;width=150&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=lucida+grande&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:150px; height:21px;" allowTransparency="true"></iframe>
<!-- <div class="g-plusone" data-size="medium" data-href="https://plus.google.com/107188080561309681193"></div> -->
<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/follow_button.html?screen_name=WordPress&show_count=false" style="width:150px; height:20px;"></iframe>

		<h6>Code is Poetry</h6>
	</div>
</div>


<script type="text/javascript">_qoptions={qacct:"p-18-mFEk4J448M"};</script>
<script type="text/javascript" src="http://edge.quantserve.com/quant.js"></script>
<noscript><img src="http://pixel.quantserve.com/pixel/p-18-mFEk4J448M.gif" style="display: none;" border="0" height="1" width="1" alt=""/></noscript>
<!--  -->
<script type="text/javascript" src="http://s.gravatar.com/js/gprofiles.js"></script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<script type="text/javascript">
(function($){
$(document).ready(function() {
	$('#footer a').click(function() {
		if (this.href.indexOf('wordpress.org') == -1 && this.href.indexOf('http') == 0) {
			recordOutboundLink(this, 'Outbound Links', this.href);
			return false;
		}
	});
});
})(jQuery);
</script>
</body>
<!-- Cached 20130405213415 -->
</html>

</body>
<!-- Cached 20130405213415 -->
</html>

